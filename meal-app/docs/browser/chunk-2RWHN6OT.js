import{a as L,b as T,e as E,g as I,h as j,i as N,m as V}from"./chunk-RL2VMBAB.js";import{a as Q,b as W}from"./chunk-4RQAS2OA.js";import"./chunk-3X2PE6MI.js";import{D as m,J as l,K as o,L as r,M as P,P as O,Q as d,R as f,T as y,U as s,V as b,X as w,Y as _,Z as M,_ as h,ja as k,ka as S,la as z,n as u,o as v,sa as F,v as C,w as i,y as p,z as x}from"./chunk-DZCWRMDA.js";function Y(a,t){if(a&1&&(o(0,"option",12),s(1),r()),a&2){let n=t.$implicit;l("value",n),i(),b(n)}}function R(a,t){a&1&&(o(0,"div",13),s(1," No categories found. "),r())}function B(a,t){a&1&&(o(0,"div",13),s(1," No meals found for this category. "),r())}function A(a,t){a&1&&(o(0,"span"),s(1,"\u2605"),r())}function U(a,t){a&1&&(o(0,"span"),s(1,"\u2606"),r())}function q(a,t){if(a&1){let n=O();o(0,"div",14),P(1,"img",15),o(2,"div",16)(3,"h3"),s(4),r(),o(5,"span",17),s(6),r(),o(7,"div",18)(8,"button",19),d("click",function(){let g=u(n).$implicit,c=f();return v(c.openMeal(g.idMeal))}),s(9,"View Details"),r(),o(10,"button",20),d("click",function(){let g=u(n).$implicit,c=f();return v(c.toggleFavorite(g))}),m(11,A,2,0,"span",21)(12,U,2,0,"span",21),r()()()()}if(a&2){let n=t.$implicit,e=f();i(),l("src",n.strMealThumb,C)("alt",n.strMeal),i(3),b(n.strMeal),i(2),b(n.strCategory),i(4),y("active",e.isFavorite(n)),i(),l("ngIf",e.isFavorite(n)),i(),l("ngIf",!e.isFavorite(n))}}var D=class a{constructor(t,n,e){this.mealService=t;this.favoritesService=n;this.router=e}categories=[];selectedCategory="";searchQuery="";pagedMeals=[];allMeals=[];currentPage=1;totalPages=1;ngOnInit(){this.loadCategories(),this.searchMeals()}loadCategories(){this.mealService.getCategories().subscribe(t=>{this.categories=t.categories?t.categories.map(n=>n.strCategory):[],this.categories.length>0&&(this.selectedCategory=this.categories[0],this.selectCategory(this.selectedCategory))})}selectCategory(t){this.currentPage=1,this.searchMeals()}searchMeals(){this.searchQuery?this.mealService.searchMeals(this.searchQuery).subscribe(t=>{let n=t.meals||[];this.allMeals=n,this.totalPages=Math.max(1,Math.ceil(n.length/10)),this.goToPage(1)}):this.mealService.getMealsByCategory(this.selectedCategory).subscribe(t=>{let n=t.meals||[];this.allMeals=n,this.totalPages=Math.max(1,Math.ceil(n.length/10)),this.goToPage(1)})}goToPage(t){if(t<1||t>this.totalPages)return;this.currentPage=t;let n=(t-1)*10,e=n+10;this.pagedMeals=this.allMeals.slice(n,e)}openMeal(t){this.router.navigate(["/meals",t])}isFavorite(t){return this.favoritesService.isFavorite(t.idMeal)}toggleFavorite(t){this.isFavorite(t)?this.favoritesService.removeFavorite(t.idMeal):this.favoritesService.addFavorite(t.idMeal)}static \u0275fac=function(n){return new(n||a)(p(Q),p(W),p(F))};static \u0275cmp=x({type:a,selectors:[["app-meals-list"]],decls:22,vars:10,consts:[[1,"meals-list-container"],[1,"meals-controls"],["for","category"],["id","category",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search meals...",3,"ngModelChange","ngModel"],[3,"click"],["class","fallback-message",4,"ngIf"],[1,"meals-grid"],["class","meal-card",4,"ngFor","ngForOf"],[1,"pagination"],[1,"page-btn",3,"click","disabled"],[3,"value"],[1,"fallback-message"],[1,"meal-card"],[1,"meal-image",3,"src","alt"],[1,"meal-content"],[1,"meal-category"],[1,"meal-actions"],[1,"button","outline",3,"click"],[1,"button-icon","favorite",3,"click"],[4,"ngIf"]],template:function(n,e){n&1&&(o(0,"div",0)(1,"h2"),s(2,"Meals List"),r(),o(3,"div",1)(4,"label",2),s(5,"Category:"),r(),o(6,"select",3),h("ngModelChange",function(c){return M(e.selectedCategory,c)||(e.selectedCategory=c),c}),d("change",function(){return e.selectCategory(e.selectedCategory)}),m(7,Y,2,2,"option",4),r(),o(8,"input",5),h("ngModelChange",function(c){return M(e.searchQuery,c)||(e.searchQuery=c),c}),r(),o(9,"button",6),d("click",function(){return e.searchMeals()}),s(10,"Search"),r()(),m(11,R,2,0,"div",7)(12,B,2,0,"div",7),o(13,"div",8),m(14,q,13,8,"div",9),r(),o(15,"div",10)(16,"button",11),d("click",function(){return e.goToPage(e.currentPage-1)}),s(17," Prev "),r(),o(18,"span"),s(19),r(),o(20,"button",11),d("click",function(){return e.goToPage(e.currentPage+1)}),s(21," Next "),r()()()),n&2&&(i(6),_("ngModel",e.selectedCategory),i(),l("ngForOf",e.categories),i(),_("ngModel",e.searchQuery),i(3),l("ngIf",!e.categories||e.categories.length===0),i(),l("ngIf",e.pagedMeals&&e.pagedMeals.length===0),i(2),l("ngForOf",e.pagedMeals),i(2),l("disabled",e.currentPage===1),i(3),w("Page ",e.currentPage," of ",e.totalPages),i(),l("disabled",e.currentPage===e.totalPages))},dependencies:[z,k,S,V,j,N,L,I,T,E],styles:[".meals-list-bg[_ngcontent-%COMP%]{background:#f8fffe;border-radius:18px;box-shadow:0 4px 24px #46e1f514;padding:2rem;margin:2rem auto;max-width:1200px}.meals-list-container[_ngcontent-%COMP%]{padding:2rem;background:#f8f9fa;border-radius:12px;box-shadow:0 2px 12px #2c3e5014}.meals-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2c3e50;margin-bottom:1.5rem}.meals-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;margin-top:2rem}.meal-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 4px 24px #2c3e501a;overflow:hidden;display:flex;flex-direction:column;align-items:center;padding:1.5rem 1rem;transition:box-shadow .2s,transform .2s}.meal-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 32px #2c3e502e;transform:translateY(-4px) scale(1.02)}.meal-image[_ngcontent-%COMP%]{width:100%;max-width:220px;height:160px;object-fit:cover;border-radius:12px;margin-bottom:1rem}.meal-content[_ngcontent-%COMP%]{width:100%;text-align:center}.meal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700;margin-bottom:.5rem;color:#2c3e50;word-break:break-word}.meal-category[_ngcontent-%COMP%]{display:block;font-size:.95rem;color:#67b26f;margin-bottom:.5rem}.meal-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-top:1rem}.button.outline[_ngcontent-%COMP%]{background:transparent;border:2px solid #67b26f;color:#67b26f;padding:8px 16px;font-size:.9rem;border-radius:8px;font-weight:600;cursor:pointer;transition:background .2s,color .2s}.button.outline[_ngcontent-%COMP%]{background:none;border:1px solid #67b26f;color:#67b26f;border-radius:6px;padding:.3rem 1rem;font-size:.95rem;cursor:pointer}.button.outline[_ngcontent-%COMP%]:hover{background:#67b26f;color:#fff}.button-icon.favorite[_ngcontent-%COMP%]{background:none;border:none;color:#f1c40f;font-size:2rem;cursor:pointer;transition:color .2s}.button-icon.favorite[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.button-icon.favorite.active[_ngcontent-%COMP%]{color:#f39c12}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin:2rem 0 0}.page-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #67b26f;color:#67b26f;font-weight:600;font-size:1rem;border-radius:8px;padding:.5rem 1rem;cursor:pointer;transition:background .2s,color .2s}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#67b26f;color:#fff}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem}.page-btn[_ngcontent-%COMP%]{background:#2c3e50;color:#fff;border:none;border-radius:6px;padding:.4rem 1.2rem;font-size:1rem;cursor:pointer;transition:opacity .2s}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}body[_ngcontent-%COMP%], .meals-list-bg[_ngcontent-%COMP%]{background:#f3f4f6;min-height:100vh}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-top:2rem}.meals-list-wrapper[_ngcontent-%COMP%]{padding:3rem 0 4rem;background:#f8f9fa;border-radius:1rem;font-weight:700;transition:box-shadow .2s}.meals-list-wrapper[_ngcontent-%COMP%]   .meals-list-wrapper[_ngcontent-%COMP%]{background:#fff;background:linear-gradient(120deg,#fffbe6,#e0f7fa);min-height:100vh;position:relative}.meals-list-wrapper[_ngcontent-%COMP%]   .meals-list-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:2rem;color:#2ecc71}.meals-list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .meal-card[_ngcontent-%COMP%]:hover{list-style:none;box-shadow:0 4px 24px #0000001f;padding:0}.meals-list-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;margin-bottom:1rem;padding:1rem;border-radius:8px;box-shadow:0 2px 8px #2ecc7114;display:flex;align-items:center;justify-content:space-between}**[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin:2rem 0 3rem}.page-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid var(--primary-green);color:var(--primary-green);font-weight:600;font-size:1rem;border-radius:8px;padding:.5rem 1rem;cursor:pointer;transition:var(--transition);min-width:40px;box-shadow:0 2px 8px #2ecc7114}.page-btn.active[_ngcontent-%COMP%], .page-btn[_ngcontent-%COMP%]:focus{background:var(--primary-green);color:#fff;border-color:var(--primary-green);outline:none}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-green);color:#fff;transform:translateY(-2px) scale(1.05);box-shadow:0 8px 25px #2ecc7126}**[_ngcontent-%COMP%]   .favorite-btn[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:#fff;border:2px solid var(--accent-orange);border-radius:50%;width:38px;height:38px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;box-shadow:0 2px 8px #ff6b3514;transition:opacity .2s,background .2s,border .2s;z-index:2}.meal-hover-group[_ngcontent-%COMP%]:hover   .favorite-btn[_ngcontent-%COMP%]{opacity:1}.favorite-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--accent-orange);transition:color .2s}.favorite-btn.active[_ngcontent-%COMP%]{background:var(--accent-orange);border-color:var(--accent-orange)}.favorite-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.favorite-btn[_ngcontent-%COMP%]:hover{background:var(--accent-orange)}.favorite-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.meal-category[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background-color:#f3f4f6;color:#4b5563;border-radius:9999px;font-size:.75rem;margin-bottom:1rem}.view-details[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background-color:var(--primary-green);color:#fff;border-radius:.375rem;text-decoration:none;font-size:.875rem;transition:all .2s ease}.view-details[_ngcontent-%COMP%]:hover{opacity:.9}.meal-card[_ngcontent-%COMP%]{background:var(--white);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--card-shadow);transition:var(--transition);position:relative;cursor:pointer}.meal-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:var(--hover-shadow)}.meal-image[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:220px}.meal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:var(--transition)}.meal-card[_ngcontent-%COMP%]:hover   .meal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}**[_ngcontent-%COMP%]   .meal-content[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.meal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:var(--spacing-sm);color:var(--neutral-dark)}.meal-category[_ngcontent-%COMP%]{display:inline-block;padding:var(--spacing-xs) var(--spacing-sm);background:linear-gradient(135deg,var(--accent-orange),var(--light-orange));color:var(--white);border-radius:var(--radius-sm);font-size:.85rem;font-weight:500;margin-bottom:var(--spacing-sm);text-transform:uppercase;letter-spacing:.5px}.meal-description[_ngcontent-%COMP%]{color:var(--neutral-medium);margin-bottom:var(--spacing-md);line-height:1.6}.meal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.button[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);font-weight:600;cursor:pointer;transition:var(--transition);font-size:.95rem;text-decoration:none;display:inline-block;text-align:center}.button.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-green),var(--secondary-green));color:var(--white)}.button.primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #2ecc7166}.button.outline[_ngcontent-%COMP%]{background:transparent;border:2px solid var(--primary-green);color:var(--primary-green)}.button.outline[_ngcontent-%COMP%]:hover{background:var(--primary-green);color:var(--white);transform:translateY(-2px)}.favorite-btn[_ngcontent-%COMP%]{position:absolute;top:var(--spacing-sm);right:var(--spacing-sm);background:var(--white);border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);box-shadow:0 4px 12px #0000001a;z-index:2}.favorite-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--neutral-medium);transition:var(--transition)}.favorite-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 16px #ff6b3533}.favorite-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--accent-orange)}.favorite-btn.active[_ngcontent-%COMP%]{background:var(--accent-orange)}.favorite-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--white)}.meals-controls[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;align-items:center;background:#f3f6fa;border-radius:10px;padding:1rem 1.5rem;box-shadow:0 2px 8px #2c3e500d}.meals-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-right:.5rem}.meals-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:8px;border:1px solid #67b26f;font-size:1rem;background:#fff;color:#2c3e50;box-shadow:0 1px 4px #2ecc7112;transition:border .2s}.meals-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#2c3e50;outline:none}.meals-controls[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;border-radius:8px;border:1px solid #67b26f;font-size:1rem;background:#fff;color:#2c3e50;box-shadow:0 1px 4px #2ecc7112;transition:border .2s}.meals-controls[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#2c3e50;outline:none}.meals-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#67b26f,#4cae4c);color:#fff;border:none;border-radius:8px;padding:.5rem 1.5rem;font-weight:600;font-size:1rem;cursor:pointer;box-shadow:0 2px 8px #2ecc7114;transition:background .2s,box-shadow .2s;margin-left:.5rem}.meals-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#4cae4c,#67b26f);box-shadow:0 4px 16px #2ecc711f}"]})};export{D as MealsListComponent};
