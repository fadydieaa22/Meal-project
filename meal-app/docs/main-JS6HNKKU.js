import{D as C,J as c,K as o,L as t,M as k,N as L,O as A,P as x,Q as _,R as I,U as i,aa as M,ca as S,ka as b,la as E,m as d,ma as y,n as g,o as u,oa as O,pa as w,q as f,ra as P,sa as l,ta as R,ua as F,va as T,w as p,y as v,z as h}from"./chunk-DZCWRMDA.js";var s=(e,r)=>!!!localStorage.getItem("authToken");var D=(e,r)=>{let n=d(l);return!localStorage.getItem("authToken")?(n.navigate(["/login"]),!1):!0};var G=[{path:"meals",loadComponent:()=>import("./chunk-2RWHN6OT.js").then(e=>e.MealsListComponent)},{path:"meal/:id",loadComponent:()=>import("./chunk-RGM2BMVJ.js").then(e=>e.MealDetailsComponent)},{path:"meals/:id",loadComponent:()=>import("./chunk-RGM2BMVJ.js").then(e=>e.MealDetailsComponent)},{path:"login",loadComponent:()=>import("./chunk-W2JHB4CR.js").then(e=>e.Login),canActivate:[s]},{path:"register",loadComponent:()=>import("./chunk-NE4WUT4E.js").then(e=>e.Register),canActivate:[s]},{path:"favorites",loadComponent:()=>import("./chunk-GSN4PZTJ.js").then(e=>e.FavoritesListComponent),canActivate:[D]},{path:"",loadComponent:()=>import("./chunk-AVNSLF3H.js").then(e=>e.HomeComponent)},{path:"**",redirectTo:""}];var N={providers:[f(),S({eventCoalescing:!0}),T(G),O()]};var z=()=>({exact:!0});function H(e,r){e&1&&(L(0),o(1,"a",14),i(2,"Login"),t(),o(3,"a",15),i(4,"Register"),t(),A())}function V(e,r){if(e&1){let n=x();o(0,"button",16),_("click",function(){g(n);let j=I();return u(j.logout())}),i(1,"Logout"),t()}}var m=class e{constructor(r){this.router=r;this.checkAuthState(),window.addEventListener("auth-changed",(n=>{this.isLoggedIn=n.detail.isLoggedIn}))}title="meal-app";isLoggedIn=!1;ngOnInit(){this.checkAuthState()}checkAuthState(){let r=localStorage.getItem("currentUser");this.isLoggedIn=!!r}logout(){localStorage.removeItem("currentUser"),localStorage.removeItem("authToken"),this.isLoggedIn=!1,window.dispatchEvent(new CustomEvent("auth-changed",{detail:{isLoggedIn:!1,user:null}})),this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||e)(v(l))};static \u0275cmp=h({type:e,selectors:[["app-root"]],decls:23,vars:4,consts:[[1,"app-container"],[1,"app-header"],[1,"container"],["routerLink","/",1,"app-logo"],[1,"app-nav"],["routerLink","/","routerLinkActive","active",1,"app-nav-link",3,"routerLinkActiveOptions"],["routerLink","/meals",1,"app-nav-link"],["routerLink","/favorites","routerLinkActive","active",1,"app-nav-link"],[4,"ngIf"],["class","app-nav-link primary",3,"click",4,"ngIf"],[1,"main-content"],[1,"app-footer"],[1,"footer-content"],[1,"footer-logo"],["routerLink","/login","routerLinkActive","active",1,"app-nav-link","primary"],["routerLink","/register","routerLinkActive","active",1,"app-nav-link"],[1,"app-nav-link","primary",3,"click"]],template:function(n,a){n&1&&(o(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),i(4,"MealsApp"),t(),o(5,"nav",4)(6,"a",5),i(7,"Home"),t(),o(8,"a",6),i(9,"Meals"),t(),o(10,"a",7),i(11,"Favorites"),t(),C(12,H,5,0,"ng-container",8)(13,V,2,0,"button",9),t()()(),o(14,"main",10)(15,"div",2),k(16,"router-outlet"),t()(),o(17,"footer",11)(18,"div",12)(19,"div",13),i(20,"MealsApp"),t(),o(21,"p"),i(22,"Discover and enjoy delicious meals from around the world"),t()()()()),n&2&&(p(6),c("routerLinkActiveOptions",M(3,z)),p(6),c("ngIf",!a.isLoggedIn),p(),c("ngIf",a.isLoggedIn))},dependencies:[P,R,F,w,E,b],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.main-content[_ngcontent-%COMP%]{flex:1;padding:20px 0}.app-header[_ngcontent-%COMP%]{background:#2c2c2c;padding:.75rem 0;position:sticky;top:0;z-index:1000}.app-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.app-logo[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:#2ecc71;text-decoration:none}.app-nav[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center}.app-nav-link[_ngcontent-%COMP%]{padding:.5rem 1.25rem;background:transparent;border-radius:25px;color:#667eea;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none;font-size:1rem;border:none}.app-nav-link.active[_ngcontent-%COMP%], .app-nav-link.primary[_ngcontent-%COMP%]{background:#2ecc71;color:#fff}.app-nav-link[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff}.app-footer[_ngcontent-%COMP%]{background:#2c2c2c;color:#fff;text-align:center;padding:1.5rem 0 1rem;margin-top:auto}.footer-logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2ecc71;margin-bottom:.5rem}"]})};y(m,N).catch(e=>console.error(e));
