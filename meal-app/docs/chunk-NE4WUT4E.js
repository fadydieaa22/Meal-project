import{a as O,b as T,c as V,d as q,e as N,f as W,j as k,k as F,l as U,m as L}from"./chunk-RL2VMBAB.js";import{D as u,J as l,K as i,L as t,P as C,Q as M,R as _,S as m,U as s,Y as h,Z as w,_ as x,ka as S,la as E,n as c,na as P,o as f,pa as R,sa as I,w as o,y as b,z as y}from"./chunk-DZCWRMDA.js";function z(e,r){e&1&&(i(0,"span"),s(1,"Username is required."),t())}function D(e,r){e&1&&(i(0,"span"),s(1,"Username must be at least 3 characters."),t())}function H(e,r){if(e&1&&(i(0,"div",16),u(1,z,2,0,"span",17)(2,D,2,0,"span",17),t()),e&2){_();let n=m(10);o(),l("ngIf",n.errors==null?null:n.errors.required),o(),l("ngIf",n.errors==null?null:n.errors.minlength)}}function A(e,r){e&1&&(i(0,"span"),s(1,"Email is required."),t())}function B(e,r){e&1&&(i(0,"span"),s(1,"Please enter a valid email address."),t())}function G(e,r){if(e&1&&(i(0,"div",16),u(1,A,2,0,"span",17)(2,B,2,0,"span",17),t()),e&2){_();let n=m(16);o(),l("ngIf",n.errors==null?null:n.errors.required),o(),l("ngIf",n.errors==null?null:n.errors.email)}}function J(e,r){e&1&&(i(0,"span"),s(1,"Password is required."),t())}function Y(e,r){e&1&&(i(0,"span"),s(1,"Password must be at least 6 characters."),t())}function K(e,r){if(e&1&&(i(0,"div",16),u(1,J,2,0,"span",17)(2,Y,2,0,"span",17),t()),e&2){_();let n=m(22);o(),l("ngIf",n.errors==null?null:n.errors.required),o(),l("ngIf",n.errors==null?null:n.errors.minlength)}}var j=class e{constructor(r,n){this.router=r;this.http=n}user={username:"",email:"",password:""};error="";onSubmit(){this.http.post("https://dummyjson.com/users/add",{username:this.user.username,email:this.user.email,password:this.user.password}).subscribe({next:r=>{localStorage.setItem("currentUser",JSON.stringify(r)),localStorage.setItem("authToken",r.token||"registered"),window.dispatchEvent(new CustomEvent("auth-changed",{detail:{isLoggedIn:!0,user:r}})),this.router.navigate(["/"])},error:r=>{this.error=r?.error?.message||"Registration failed"}})}static \u0275fac=function(n){return new(n||e)(b(I),b(P))};static \u0275cmp=y({type:e,selectors:[["app-register"]],decls:26,vars:7,consts:[["registerForm","ngForm"],["username","ngModel"],["email","ngModel"],["password","ngModel"],[1,"auth-container"],[1,"auth-card"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","minlength","3",1,"input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","name","email","required","","email","",1,"input",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","minlength","6",1,"input",3,"ngModelChange","ngModel"],["type","submit",1,"button","primary",3,"disabled"],[1,"error-message"],[4,"ngIf"]],template:function(n,d){if(n&1){let g=C();i(0,"div",4)(1,"div",5)(2,"h2"),s(3,"Create Account"),t(),i(4,"form",6,0),M("ngSubmit",function(){return c(g),f(d.onSubmit())}),i(6,"div",7)(7,"label",8),s(8,"Username"),t(),i(9,"input",9,1),x("ngModelChange",function(a){return c(g),w(d.user.username,a)||(d.user.username=a),f(a)}),t(),u(11,H,3,2,"div",10),t(),i(12,"div",7)(13,"label",11),s(14,"Email"),t(),i(15,"input",12,2),x("ngModelChange",function(a){return c(g),w(d.user.email,a)||(d.user.email=a),f(a)}),t(),u(17,G,3,2,"div",10),t(),i(18,"div",7)(19,"label",13),s(20,"Password"),t(),i(21,"input",14,3),x("ngModelChange",function(a){return c(g),w(d.user.password,a)||(d.user.password=a),f(a)}),t(),u(23,K,3,2,"div",10),t(),i(24,"button",15),s(25," Create Account "),t()()()()}if(n&2){let g=m(5),p=m(10),a=m(16),v=m(22);o(9),h("ngModel",d.user.username),o(2),l("ngIf",p.invalid&&(p.dirty||p.touched)),o(4),h("ngModel",d.user.email),o(2),l("ngIf",a.invalid&&(a.dirty||a.touched)),o(4),h("ngModel",d.user.password),o(2),l("ngIf",v.invalid&&(v.dirty||v.touched)),o(),l("disabled",!g.form.valid)}},dependencies:[L,W,O,T,V,k,U,F,N,q,E,S,R],styles:[".error-message[_ngcontent-%COMP%]{color:#e53e3e!important;font-size:.95rem!important;margin-top:6px!important;margin-bottom:0!important;text-align:left!important}.auth-container[_ngcontent-%COMP%]{min-height:calc(100vh - 180px);display:flex;align-items:center;justify-content:center;padding:40px 20px}.auth-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:400px}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:30px;text-align:center;font-size:1.75rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#4a5568;font-weight:500}.input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #e2e8f0;border-radius:4px;font-size:1rem;transition:all .3s ease}.input[_ngcontent-%COMP%]:focus{outline:none;border-color:#67b26f;box-shadow:0 0 0 3px #67b26f1a}.button[_ngcontent-%COMP%]{width:100%;padding:12px;background:#67b26f;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.button[_ngcontent-%COMP%]:hover:not(:disabled){background:#4caf50;transform:translateY(-2px)}.button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}"]})};export{j as Register};
