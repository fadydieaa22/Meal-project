<div class="favorites-page container py-5">
  <div class="favorites-header text-center mb-5">
    <h1 class="favorites-title display-4 fw-bold mb-2">Your Favorite Meals</h1>
    <div class="favorites-subtitle lead text-muted mb-4">
      All your saved meals in one place. Explore, view details, or remove favorites anytime!
    </div>
  </div>

  <!-- Loading State -->
  <div
    *ngIf="isLoading"
    class="favorites-loading d-flex flex-column align-items-center justify-content-center py-5"
  >
    <div class="spinner-border text-success mb-3" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="loading-text text-muted">Loading your favorites...</div>
  </div>

  <!-- Empty State -->
  <div
    *ngIf="!isLoading && favoriteMeals.length === 0"
    class="favorites-empty card text-center mx-auto p-5 shadow-sm"
    style="max-width: 500px"
  >
    <div class="empty-icon mb-3">
      <i class="fa fa-heart fa-3x text-danger"></i>
    </div>
    <h3 class="mb-2">No favorites yet!</h3>
    <p class="mb-4 text-muted">Start exploring meals and add your favorites here.</p>
    <a routerLink="/meals" class="btn btn-success px-4 py-2">Explore Meals</a>
  </div>

  <!-- Favorites Grid -->
  <div *ngIf="!isLoading && favoriteMeals.length > 0" class="row g-4 mt-2">
    <div *ngFor="let meal of favoriteMeals" class="col-12 col-sm-6 col-md-4 col-lg-3">
      <div class="card h-100 shadow meal-card">
        <div class="meal-image position-relative">
          <img [src]="meal.strMealThumb" [alt]="meal.strMeal" class="card-img-top" />
          <span
            class="favorite-badge position-absolute top-0 end-0 m-2 bg-white rounded-circle p-2 shadow"
          >
            <!-- Heart icon removed -->
          </span>
        </div>
        <div class="card-body meal-content d-flex flex-column">
          <h3 class="card-title h5 mb-2">{{ meal.strMeal }}</h3>
          <span class="meal-category badge bg-warning text-dark mb-2">{{ meal.strCategory }}</span>
          <div class="meal-actions mt-auto d-flex justify-content-between align-items-center">
            <a class="btn btn-outline-success btn-sm" [routerLink]="['/meal', meal.idMeal]"
              >View Details</a
            >
            <button
              class="btn btn-outline-danger btn-sm remove-favorite ms-2"
              (click)="removeFavoriteInstant(meal.idMeal)"
              title="Remove from favorites"
            >
              <i class="fa fa-times"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
