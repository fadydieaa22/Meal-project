import{a as E,b as w}from"./chunk-4RQAS2OA.js";import"./chunk-3X2PE6MI.js";import{D as v,J as m,K as a,L as i,M as d,P as b,Q as y,R as f,U as o,V as p,ba as _,ja as M,ka as S,la as F,n as g,o as u,ta as L,v as x,w as r,y as c,z as h}from"./chunk-DZCWRMDA.js";var k=n=>["/meal",n];function T(n,t){n&1&&(a(0,"div",7)(1,"div",8)(2,"span",9),o(3,"Loading..."),i()(),a(4,"div",10),o(5,"Loading your favorites..."),i()())}function O(n,t){n&1&&(a(0,"div",11)(1,"div",12),d(2,"i",13),i(),a(3,"h3",14),o(4,"No favorites yet!"),i(),a(5,"p",15),o(6,"Start exploring meals and add your favorites here."),i(),a(7,"a",16),o(8,"Explore Meals"),i()())}function j(n,t){if(n&1){let e=b();a(0,"div",19)(1,"div",20)(2,"div",21),d(3,"img",22)(4,"span",23),i(),a(5,"div",24)(6,"h3",25),o(7),i(),a(8,"span",26),o(9),i(),a(10,"div",27)(11,"a",28),o(12,"View Details"),i(),a(13,"button",29),y("click",function(){let l=g(e).$implicit,I=f(2);return u(I.removeFavoriteInstant(l.idMeal))}),d(14,"i",30),i()()()()()}if(n&2){let e=t.$implicit;r(3),m("src",e.strMealThumb,x)("alt",e.strMeal),r(4),p(e.strMeal),r(2),p(e.strCategory),r(2),m("routerLink",_(5,k,e.idMeal))}}function D(n,t){if(n&1&&(a(0,"div",17),v(1,j,15,7,"div",18),i()),n&2){let e=f();r(),m("ngForOf",e.favoriteMeals)}}var C=class n{constructor(t,e){this.favoritesService=t;this.mealService=e}favoriteMeals=[];isLoading=!0;ngOnInit(){this.loadFavorites()}loadFavorites(){this.isLoading=!0;let t=this.favoritesService.getFavorites();if(t.length===0){this.isLoading=!1;return}this.favoriteMeals=[];let e=0;t.forEach(s=>{this.mealService.getMealDetails(s).subscribe({next:l=>{l.meals&&l.meals.length>0&&this.favoriteMeals.push(l.meals[0]),e++,e===t.length&&(this.isLoading=!1)},error:l=>{console.error("Error loading favorite meal:",l),e++,e===t.length&&(this.isLoading=!1)}})})}removeFavorite(t){this.favoritesService.removeFavorite(t),this.favoriteMeals=this.favoriteMeals.filter(e=>e.idMeal!==t),console.log("Meal removed from favorites")}removeFavoriteInstant(t){this.favoritesService.removeFavorite(t),this.favoriteMeals=this.favoriteMeals.filter(e=>e.idMeal!==t)}static \u0275fac=function(e){return new(e||n)(c(w),c(E))};static \u0275cmp=h({type:n,selectors:[["app-favorites-list"]],decls:9,vars:3,consts:[[1,"favorites-page","container","py-5"],[1,"favorites-header","text-center","mb-5"],[1,"favorites-title","display-4","fw-bold","mb-2"],[1,"favorites-subtitle","lead","text-muted","mb-4"],["class","favorites-loading d-flex flex-column align-items-center justify-content-center py-5",4,"ngIf"],["class","favorites-empty card text-center mx-auto p-5 shadow-sm","style","max-width: 500px",4,"ngIf"],["class","row g-4 mt-2",4,"ngIf"],[1,"favorites-loading","d-flex","flex-column","align-items-center","justify-content-center","py-5"],["role","status",1,"spinner-border","text-success","mb-3"],[1,"visually-hidden"],[1,"loading-text","text-muted"],[1,"favorites-empty","card","text-center","mx-auto","p-5","shadow-sm",2,"max-width","500px"],[1,"empty-icon","mb-3"],[1,"fa","fa-heart","fa-3x","text-danger"],[1,"mb-2"],[1,"mb-4","text-muted"],["routerLink","/meals",1,"btn","btn-success","px-4","py-2"],[1,"row","g-4","mt-2"],["class","col-12 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"card","h-100","shadow","meal-card"],[1,"meal-image","position-relative"],[1,"card-img-top",3,"src","alt"],[1,"favorite-badge","position-absolute","top-0","end-0","m-2","bg-white","rounded-circle","p-2","shadow"],[1,"card-body","meal-content","d-flex","flex-column"],[1,"card-title","h5","mb-2"],[1,"meal-category","badge","bg-warning","text-dark","mb-2"],[1,"meal-actions","mt-auto","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-outline-success","btn-sm",3,"routerLink"],["title","Remove from favorites",1,"btn","btn-outline-danger","btn-sm","remove-favorite","ms-2",3,"click"],[1,"fa","fa-times"]],template:function(e,s){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"Your Favorite Meals"),i(),a(4,"div",3),o(5," All your saved meals in one place. Explore, view details, or remove favorites anytime! "),i()(),v(6,T,6,0,"div",4)(7,O,9,0,"div",5)(8,D,2,1,"div",6),i()),e&2&&(r(6),m("ngIf",s.isLoading),r(),m("ngIf",!s.isLoading&&s.favoriteMeals.length===0),r(),m("ngIf",!s.isLoading&&s.favoriteMeals.length>0))},dependencies:[F,M,S,L],encapsulation:2})};export{C as FavoritesListComponent};
